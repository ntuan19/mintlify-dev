## Create a Purchase

### POST /receipts

Records a purchase for a Customer from iOS, Android, or Stripe and will create a Customer if they donâ€™t already exist.

### Authorization

```bash
Authorization: Bearer <auth>

{
  "app_user_id": "string",
  "fetch_token": "string",
  "product_id": "string",
  "price": 1.99,
  "currency": "USD",
  "payment_mode": "pay_as_you_go",
  "introductory_price": 0.99,
  "is_restore": false,
  "presented_offering_identifier": "string",
  "attributes": {
    "property_name": {
      "value": "string",
      "updated_at_ms": 1630454400000
    }
  }
}
```

### Google Play: Refund and Revoke Subscription

### POST 
/subscribers/{app_user_id}/subscriptions/{product_identifier}/defer

<div> Defers the purchase of a Google Subscription to a later date.</div>

### Authorization

```bash
Authorization: Bearer <auth>

{
  "value": {
    "request_date": "2019-07-26T17:40:10Z",
    "request_date_ms": 1564162810884,
    "subscriber": {
      "entitlements": {
        "pro_cat": {
          "expires_date": null,
          "grace_period_expires_date": null,
          "product_identifier": "onetime",
          "purchase_date": "2019-04-05T21:52:45Z"
        }
      },
      "first_seen": "2019-02-21T00:08:41Z",
      "management_url": "https://apps.apple.com/account/subscriptions",
      "non_subscriptions": {
        "onetime": [
          {
            "id": "cadba0c81b",
            "is_sandbox": true,
            "purchase_date": "2019-04-05T21:52:45Z",
            "store": "app_store"
          }
        ]
      },
      "original_app_user_id": "XXX-XXXXX-XXXXX-XX",
      "original_application_version": "1.0",
      "original_purchase_date": "2019-01-30T23:54:10Z",
      "other_purchases": {},
      "subscriptions": {
        "annual": {
          "auto_resume_date": null,
          "billing_issues_detected_at": null,
          "expires_date": "2019-08-14T21:07:40Z",
          "grace_period_expires_date": null,
          "is_sandbox": true,
          "original_purchase_date": "2019-02-21T00:42:05Z",
          "ownership_type": "PURCHASED",
          "period_type": "normal",
          "purchase_date": "2019-07-14T20:07:40Z",
          "refunded_at": null,
          "store": "app_store",
          "unsubscribe_detected_at": "2019-07-17T22:48:38Z"
        },
        "onemonth": {
          "auto_resume_date": null,
          "billing_issues_detected_at": null,
          "expires_date": "2019-06-17T22:47:55Z",
          "grace_period_expires_date": null,
          "is_sandbox": true,
          "original_purchase_date": "2019-02-21T00:42:05Z",
          "ownership_type": "PURCHASED",
          "period_type": "normal",
          "purchase_date": "2019-06-17T22:42:55Z",
          "refunded_at": null,
          "store": "app_store",
          "unsubscribe_detected_at": "2019-06-17T22:48:38Z"
        },
        "rc_promo_pro_cat_monthly": {
          "auto_resume_date": null,
          "billing_issues_detected_at": null,
          "expires_date": "2019-08-26T01:02:16Z",
          "grace_period_expires_date": null,
          "is_sandbox": false,
          "original_purchase_date": "2019-07-26T01:02:16Z",
          "ownership_type": "FAMILY_SHARED",
          "period_type": "normal",
          "purchase_date": "2019-07-26T01:02:16Z",
          "refunded_at": null,
          "store": "promotional",
          "unsubscribe_detected_at": null
        }
      }
    }
  }
}